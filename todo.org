#+TITLE: pstruct todos

* Make arrays work
** DONE Constant length
** DONE Non-constant length support in arrays
** DONE Store length in variable
** Get rid of repetition

* Variable sized array must have count before the array
Otherwise the encoding makes no sense

* Syntax for options; both local and global
** DONE pest side
** DONE make types
** DONE make parser functions return types
** STRT get options from file
** use the options

* Allow setting array size type; has to be an int
** in options

* Allow setting array max size
** define syntax; probably an option
** update parser

* Make this write to files

* Run go fmt after creating file

* Add cli interface with clap
** something less bloated preferably
too bad it seems clap-v3 isnt done

* Error message when defining reserved struct items
** Need to figure out what those are first

* #define support for constants or similar

* Support endianness configuration
** both per-item and global; currently only per-item options

* Template tests? Can I do that in a non-shit way?
** Some kind of full test where it runs through go test

* Make template code a bit more language-extendable
** If it looks too annoying to make it without having another language to write for, just ignore for now

* dummy values

* magic values -> kinda like dummy values, but have a constraint associated

* better error checking for cstrings
